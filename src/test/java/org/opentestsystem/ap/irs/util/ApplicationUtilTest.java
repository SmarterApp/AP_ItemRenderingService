package org.opentestsystem.ap.irs.util;

import org.junit.Test;

import java.util.List;

import static org.assertj.core.api.Assertions.assertThat;
import static org.opentestsystem.ap.irs.util.ApplicationUtil.parseCommaSeparatedString;

public class ApplicationUtilTest {

    @Test
    public void testSplitStringOnCommaVerifyValues() {
        List<String> list = parseCommaSeparatedString("  ,1 , 2 , 3 , 4 , 5 ,   ");
        assertThat(list).contains("1","2","3","4","5");

        list = parseCommaSeparatedString("one two");
        assertThat(list).contains("one two");

        list = parseCommaSeparatedString(" one two ");
        assertThat(list).contains("one two");
    }

    @Test
    public void testSplitStringOnCommaVerifyListSize() {
        assertListSize(null, 0);
        assertListSize("", 0);
        assertListSize(" ", 0);
        assertListSize("     ", 0);
        assertListSize("1", 1);
        assertListSize("1, ", 1);
        assertListSize("1, , 3,,5", 3);
        assertListSize("1,2,3,4,5", 5);
        assertListSize("  ,1 , 2 , 3 , 4 , 5 ,   ", 5);
        assertListSize("1 2 3", 1);
    }

    private void assertListSize(final String ids, final int expectedSize) {
        final List<String> list = parseCommaSeparatedString(ids);
        assertThat(list).hasSize(expectedSize);
    }
}
