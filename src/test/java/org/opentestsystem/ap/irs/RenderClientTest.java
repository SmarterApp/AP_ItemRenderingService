package org.opentestsystem.ap.irs;

import org.junit.Test;

import java.util.Arrays;
import java.util.List;

import static org.assertj.core.api.Assertions.assertThat;
import static org.opentestsystem.ap.irs.TestHelper.BANK_KEY;

public class RenderClientTest {

    private static final TestHelper testUtil = new TestHelper();

    private final List<String> itemIds = Arrays.asList("100001", "200002");

    @Test
    public void testGenerateRenderUrl() {
        final RenderClient client = new RenderClient(testUtil.newItemBankProperties());
        final String url = client.getRenderUrl(BANK_KEY, BANK_KEY, itemIds);
        assertThat(url).isEqualTo("http://localhost:8200/items?ids=200-100001,200-200002&loadFrom=/home/tomcat7/content/200");
    }

    @Test
    public void testGenerateIdString() {
        final RenderClient client = new RenderClient(testUtil.newItemBankProperties());
        final String idString = client.generateIdString(BANK_KEY, itemIds);
        assertThat(idString).isEqualTo("200-100001,200-200002");
    }
}
